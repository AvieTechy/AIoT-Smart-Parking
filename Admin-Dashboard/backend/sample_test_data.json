{
  "description": "Dữ liệu mẫu đầy đủ cho test API Smart Parking Admin",
  "note": "Bây giờ plate_number đã được bao gồm trong request, không cần detect nữa",
  
  "sample_data": {
    "entry_sessions": [
      {
        "plateUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_001.jpg",
        "faceUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_001.jpg",
        "gate": "In",
        "faceIndex": "face_embedding_001",
        "plateNumber": "29A-12345"
      },
      {
        "plateUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_002.jpg",
        "faceUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_002.jpg",
        "gate": "In",
        "faceIndex": "face_embedding_002",
        "plateNumber": "30B-67890"
      },
      {
        "plateUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_003.jpg",
        "faceUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_003.jpg",
        "gate": "In",
        "faceIndex": "face_embedding_003",
        "plateNumber": "51C-11111"
      }
    ],
    
    "exit_sessions": [
      {
        "plateUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_exit_001.jpg",
        "faceUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_exit_001.jpg",
        "gate": "Out",
        "faceIndex": "face_embedding_001",
        "plateNumber": "29A-12345"
      },
      {
        "plateUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_exit_002.jpg",
        "faceUrl": "https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_exit_002.jpg",
        "gate": "Out",
        "faceIndex": "face_embedding_002",
        "plateNumber": "30B-67890"
      }
    ],
    
    "parking_slots": [
      {
        "location_code": "A01",
        "is_occupied": true
      },
      {
        "location_code": "A02",
        "is_occupied": false
      },
      {
        "location_code": "A03",
        "is_occupied": true
      },
      {
        "location_code": "B01",
        "is_occupied": false
      },
      {
        "location_code": "B02",
        "is_occupied": false
      }
    ]
  },
  
  "test_commands": {
    "1_create_entry_sessions": {
      "description": "Tạo 3 session xe vào",
      "commands": [
        "curl -X POST \"http://localhost:8000/api/sessions/\" -H \"Content-Type: application/json\" -d '{\"plateUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_001.jpg\", \"faceUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_001.jpg\", \"gate\": \"In\", \"faceIndex\": \"face_embedding_001\", \"plateNumber\": \"29A-12345\"}'",
        
        "curl -X POST \"http://localhost:8000/api/sessions/\" -H \"Content-Type: application/json\" -d '{\"plateUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_002.jpg\", \"faceUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_002.jpg\", \"gate\": \"In\", \"faceIndex\": \"face_embedding_002\", \"plateNumber\": \"30B-67890\"}'",
        
        "curl -X POST \"http://localhost:8000/api/sessions/\" -H \"Content-Type: application/json\" -d '{\"plateUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_003.jpg\", \"faceUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_003.jpg\", \"gate\": \"In\", \"faceIndex\": \"face_embedding_003\", \"plateNumber\": \"51C-11111\"}'"
      ]
    },
    
    "2_create_exit_sessions": {
      "description": "Tạo 2 session xe ra (sẽ auto-checkout corresponding In sessions)",
      "commands": [
        "curl -X POST \"http://localhost:8000/api/sessions/\" -H \"Content-Type: application/json\" -d '{\"plateUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_exit_001.jpg\", \"faceUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_exit_001.jpg\", \"gate\": \"Out\", \"faceIndex\": \"face_embedding_001\", \"plateNumber\": \"29A-12345\"}'",
        
        "curl -X POST \"http://localhost:8000/api/sessions/\" -H \"Content-Type: application/json\" -d '{\"plateUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_exit_002.jpg\", \"faceUrl\": \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_exit_002.jpg\", \"gate\": \"Out\", \"faceIndex\": \"face_embedding_002\", \"plateNumber\": \"30B-67890\"}'"
      ]
    },
    
    "3_create_parking_slots": {
      "description": "Tạo 5 parking slots",
      "commands": [
        "curl -X POST \"http://localhost:8000/api/parking/slots\" -H \"Content-Type: application/json\" -d '{\"location_code\": \"A01\", \"is_occupied\": true}'",
        "curl -X POST \"http://localhost:8000/api/parking/slots\" -H \"Content-Type: application/json\" -d '{\"location_code\": \"A02\", \"is_occupied\": false}'",
        "curl -X POST \"http://localhost:8000/api/parking/slots\" -H \"Content-Type: application/json\" -d '{\"location_code\": \"A03\", \"is_occupied\": true}'",
        "curl -X POST \"http://localhost:8000/api/parking/slots\" -H \"Content-Type: application/json\" -d '{\"location_code\": \"B01\", \"is_occupied\": false}'",
        "curl -X POST \"http://localhost:8000/api/parking/slots\" -H \"Content-Type: application/json\" -d '{\"location_code\": \"B02\", \"is_occupied\": false}'"
      ]
    },
    
    "4_test_endpoints": {
      "description": "Test các endpoints chính",
      "commands": [
        "curl -X GET \"http://localhost:8000/api/sessions/\"",
        "curl -X GET \"http://localhost:8000/api/sessions/grouped\"",
        "curl -X GET \"http://localhost:8000/api/sessions/current-vehicle-count\"",
        "curl -X GET \"http://localhost:8000/api/parking/stats\"",
        "curl -X GET \"http://localhost:8000/api/parking/slots\"",
        "curl -X GET \"http://localhost:8000/health\""
      ]
    }
  },
  
  "powershell_test_script": {
    "description": "Script PowerShell để test tất cả endpoints",
    "script": [
      "$baseUrl = \"http://localhost:8000\"",
      "",
      "# 1. Test health check",
      "Write-Host \"Testing health check...\"",
      "Invoke-RestMethod -Uri \"$baseUrl/health\" -Method Get",
      "",
      "# 2. Create entry sessions",
      "Write-Host \"Creating entry sessions...\"",
      "$entrySession1 = @{",
      "    plateUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_001.jpg\"",
      "    faceUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_001.jpg\"",
      "    gate = \"In\"",
      "    faceIndex = \"face_embedding_001\"",
      "    plateNumber = \"29A-12345\"",
      "} | ConvertTo-Json",
      "",
      "$entrySession2 = @{",
      "    plateUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_002.jpg\"",
      "    faceUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_002.jpg\"",
      "    gate = \"In\"",
      "    faceIndex = \"face_embedding_002\"",
      "    plateNumber = \"30B-67890\"",
      "} | ConvertTo-Json",
      "",
      "$entrySession3 = @{",
      "    plateUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_003.jpg\"",
      "    faceUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_003.jpg\"",
      "    gate = \"In\"",
      "    faceIndex = \"face_embedding_003\"",
      "    plateNumber = \"51C-11111\"",
      "} | ConvertTo-Json",
      "",
      "Invoke-RestMethod -Uri \"$baseUrl/api/sessions/\" -Method Post -Body $entrySession1 -ContentType \"application/json\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/sessions/\" -Method Post -Body $entrySession2 -ContentType \"application/json\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/sessions/\" -Method Post -Body $entrySession3 -ContentType \"application/json\"",
      "",
      "# 3. Create exit sessions",
      "Write-Host \"Creating exit sessions...\"",
      "$exitSession1 = @{",
      "    plateUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_exit_001.jpg\"",
      "    faceUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_exit_001.jpg\"",
      "    gate = \"Out\"",
      "    faceIndex = \"face_embedding_001\"",
      "    plateNumber = \"29A-12345\"",
      "} | ConvertTo-Json",
      "",
      "$exitSession2 = @{",
      "    plateUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/plates/plate_exit_002.jpg\"",
      "    faceUrl = \"https://res.cloudinary.com/demo/image/upload/v1234567890/faces/face_exit_002.jpg\"",
      "    gate = \"Out\"",
      "    faceIndex = \"face_embedding_002\"",
      "    plateNumber = \"30B-67890\"",
      "} | ConvertTo-Json",
      "",
      "Invoke-RestMethod -Uri \"$baseUrl/api/sessions/\" -Method Post -Body $exitSession1 -ContentType \"application/json\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/sessions/\" -Method Post -Body $exitSession2 -ContentType \"application/json\"",
      "",
      "# 4. Create parking slots",
      "Write-Host \"Creating parking slots...\"",
      "$slot1 = @{ location_code = \"A01\"; is_occupied = $true } | ConvertTo-Json",
      "$slot2 = @{ location_code = \"A02\"; is_occupied = $false } | ConvertTo-Json",
      "$slot3 = @{ location_code = \"A03\"; is_occupied = $true } | ConvertTo-Json",
      "$slot4 = @{ location_code = \"B01\"; is_occupied = $false } | ConvertTo-Json",
      "$slot5 = @{ location_code = \"B02\"; is_occupied = $false } | ConvertTo-Json",
      "",
      "Invoke-RestMethod -Uri \"$baseUrl/api/parking/slots\" -Method Post -Body $slot1 -ContentType \"application/json\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/parking/slots\" -Method Post -Body $slot2 -ContentType \"application/json\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/parking/slots\" -Method Post -Body $slot3 -ContentType \"application/json\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/parking/slots\" -Method Post -Body $slot4 -ContentType \"application/json\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/parking/slots\" -Method Post -Body $slot5 -ContentType \"application/json\"",
      "",
      "# 5. Test all endpoints",
      "Write-Host \"Testing all endpoints...\"",
      "Write-Host \"All sessions:\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/sessions/\" -Method Get",
      "",
      "Write-Host \"Grouped sessions:\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/sessions/grouped\" -Method Get",
      "",
      "Write-Host \"Current vehicle count:\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/sessions/current-vehicle-count\" -Method Get",
      "",
      "Write-Host \"Parking stats:\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/parking/stats\" -Method Get",
      "",
      "Write-Host \"All parking slots:\"",
      "Invoke-RestMethod -Uri \"$baseUrl/api/parking/slots\" -Method Get"
    ]
  },
  
  "expected_results": {
    "grouped_sessions": "Sẽ có 3 groups: 1 xe còn đang đỗ (51C-11111), 2 xe đã ra (29A-12345, 30B-67890)",
    "current_vehicle_count": "Sẽ là 1 (chỉ có 51C-11111 còn đang đỗ)",
    "parking_stats": "total_slots: 5, occupied_slots: 2, available_slots: 3, current_vehicles: 1"
  }
}
